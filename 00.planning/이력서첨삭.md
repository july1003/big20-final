# 이력서 파일을 인식해서 점삭하는 서비스 구현을 위한 라이브러리 추천

이력서 파일을 인식하고 첨삭하는 시스템은 크게  **텍스트 추출(Parsing)** ,  **정보 구조화(Structuring)** , 그리고 **AI 첨삭(LLM)**의 3단계로 나뉩니다. 현재 보유하신 **GTX 1660 SUPER(6GB VRAM)** 환경에서 효율적으로 돌아가는 파이썬 라이브러리 조합을 추천해 드립니다.

---

## 1. 이력서 파일 텍스트 추출 (File Parsing)

이력서는 주로 PDF와 DOCX 형식이므로 이를 텍스트로 변환하는 강력한 라이브러리가 필요합니다.

| **라이브러리**     | **용도**    | **특징**                                                           |
| ------------------------ | ----------------- | ------------------------------------------------------------------------ |
| **PyMuPDF (fitz)** | PDF 텍스트 추출   | 속도가 매우 빠르고 레이아웃 보존력이 좋습니다.                           |
| **pdfplumber**     | PDF 표/구조 추출  | 이력서 내의 표(Table) 데이터를 정교하게 읽을 때 유리합니다.              |
| **python-docx**    | Word 파일 추출    | `.docx`형식의 이력서를 처리할 때 필수적입니다.                         |
| **EasyOCR**        | 이미지/스캔본 OCR | 글자가 이미지로 된 이력서를 읽을 때 사용하며, **GPU(6GB)**를 지원합니다. |

---

## 2. 정보 구조화 및 분석 (Information Extraction)

추출된 원문 텍스트에서 이름, 연락처, 학력, 경력 등을 구분하는 단계입니다.

* **LangChain** : 추출된 텍스트를 LLM(Llama-3.1 등)에 전달하여 JSON 형태로 구조화하는 데 가장 적합합니다.
* **spaCy** : 성명, 조직명, 기술 스택 등을 개체명 인식(NER)으로 빠르게 분류할 때 유용합니다. (한국어 모델 `ko_core_news_sm` 지원)
* **re (정규표현식)** : 전화번호, 이메일, 날짜 형식 등 정형화된 데이터를 빠르게 필터링할 때 보조적으로 사용합니다.

---

## 3. AI 첨삭 및 피드백 (LLM Interaction)

보유하신 **6GB VRAM** 환경에서 온프레미스로 첨삭 로직을 구현할 때 핵심이 되는 라이브러리입니다.

* **Ollama (Python SDK)** : `llama3.1:8b` 모델을 사용하여 이력서 내용을 분석하고 개선안을 생성합니다. 6GB VRAM에서 가장 안정적입니다.
* **Pydantic** : AI가 생성한 첨삭 결과를 특정 데이터 형식(예: `{"항목": "경력사항", "문제점": "...", "수정안": "..."}`)으로 강제하여 수신할 때 필수적입니다.

---

## 4. 첨삭 결과 리포트 생성 (Exporting)

첨삭이 완료된 후 사용자에게 제공할 결과물(PDF/HTML)을 만드는 라이브러리입니다.

* **ReportLab** : 분석 결과와 첨삭 내용을 깔끔한 PDF 리포트로 생성할 수 있습니다.
* **Jinja2** : HTML 템플릿을 사용하여 웹 대시보드 형태의 첨삭 결과를 렌더링할 때 사용합니다.

---

## 5. 권장되는 구현 워크플로우 (Python 코드 예시)

**Python**

```
import fitz  # PyMuPDF
from langchain_community.llms import Ollama
from langchain.output_parsers import PydanticOutputParser
from pydantic import BaseModel, Field

# 1. PDF에서 텍스트 추출
def extract_text_from_pdf(pdf_path):
    doc = fitz.open(pdf_path)
    text = ""
    for page in doc:
        text += page.get_text()
    return text

# 2. LLM 첨삭 요청 (Ollama 8B 모델 활용)
def get_resume_feedback(resume_text):
    llm = Ollama(model="llama3.1")
    prompt = f"""
    당신은 전문 취업 컨설턴트입니다. 다음 이력서 내용을 분석하여 
    구체적인 수치와 키워드를 중심으로 첨삭 의견을 주십시오.
  
    이력서 내용: {resume_text[:2000]}
    """
    return llm.invoke(prompt)
```

### 💡 하드웨어 사양 최적화 팁

* **VRAM 관리** : 이력서 텍스트 추출(CPU 작업)과 LLM 첨삭(GPU 작업)을 분리하여 실행하십시오.
* **메모리 스왑** : 이력서 분석 중 VRAM이 부족하면 **Ollama**가 자동으로 32GB 시스템 RAM을 활용하므로, 대용량 이력서 처리 시에도 안정적입니다.
